{
    "name": "Gemini Cookbook Dev Container",
    "image": "mcr.microsoft.com/devcontainers/universal:2",
    "waitFor": "onCreateCommand",
    "updateContentCommand": "python3 -m pip install ipywidgets",
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-toolsai.jupyter",
                "ms-python.python",
                "eamodio.gitlens"
            ]
        }
    },

    "postCreateCommand": "sudo cp .devcontainer/welcome.txt /usr/local/etc/vscode-dev-containers/first-run-notice.txt",

    "runArgs": [
        "--network=host",
        "--env", "HTTP_PROXY",
        "--env", "HTTPS_PROXY",
        "--env", "NO_PROXY"
    ],

    "mounts": [
        "source=/etc/wifi,target=/etc/wifi,type=bind,readonly"
    ],

    "settings": {
        "http.proxy": "${env:HTTP_PROXY}",
        "https.proxy": "${env:HTTPS_PROXY}",
        "http.proxyStrictSSL": false
    },

    "onCreateCommand": "sudo nmcli dev wifi connect <SSID> password <PASSWORD>"
}
